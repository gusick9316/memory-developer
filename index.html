<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>충주상업고등학교 제5기 추억 저장소</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- 로그인 화면 -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <div class="login-box">
                <h1>추억 저장소</h1>
                <p>비밀번호를 입력해주세요</p>
                <input type="password" id="passwordInput" placeholder="비밀번호 입력">
                <button onclick="login()">로그인</button>
                <div id="loginError" class="error-message"></div>
            </div>
        </div>
    </div>

    <!-- 로딩 화면 -->
    <div id="loadingScreen" class="screen">
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <h2>GitHub 저장소 연결 중...</h2>
            <div class="loading-status">
                <div class="status-item">
                    <i class="fas fa-user"></i>
                    <span>사용자 연결: <span id="userStatus">대기중</span></span>
                </div>
                <div class="status-item">
                    <i class="fas fa-database"></i>
                    <span>저장소 연결: <span id="repoStatus">대기중</span></span>
                </div>
                <div class="status-item">
                    <i class="fas fa-key"></i>
                    <span>토큰 인증: <span id="tokenStatus">대기중</span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- 메인 화면 -->
    <div id="mainScreen" class="screen">
        <header class="main-header">
            <h1>충주상업고등학교 제5기</h1>
            <p>스마트IT의 추억들</p>
        </header>

        <nav class="tab-navigation">
            <button class="tab-btn active" onclick="switchTab('memories')">추억</button>
            <button class="tab-btn" onclick="switchTab('students')">학생 목록</button>
            <button class="tab-btn" onclick="switchTab('developers')">개발자</button>
        </nav>

        <!-- 추억 탭 -->
        <div id="memoriesTab" class="tab-content active">
            <div class="content-header">
                <h2>추억</h2>
                <button class="add-btn" onclick="openMemoryForm()">
                    <i class="fas fa-plus"></i> 작성
                </button>
            </div>
            <div id="memoriesList" class="memories-list">
                <!-- 추억 게시물들이 여기에 표시됩니다 -->
            </div>
        </div>

        <!-- 학생 목록 탭 -->
        <div id="studentsTab" class="tab-content">
            <div class="content-header">
                <h2>학생 목록</h2>
                <button class="add-btn" onclick="openStudentForm()">
                    <i class="fas fa-plus"></i> 작성
                </button>
            </div>
            <div id="studentsList" class="students-list">
                <!-- 학생/선생님 목록이 여기에 표시됩니다 -->
            </div>
        </div>

        <!-- 개발자 탭 -->
        <div id="developersTab" class="tab-content">
            <div class="content-header">
                <h2>개발자</h2>
                <button class="add-btn" onclick="openDeveloperForm()">
                    <i class="fas fa-plus"></i> 작성
                </button>
            </div>
            <div id="developersList" class="developers-list">
                <!-- 개발자 목록이 여기에 표시됩니다 -->
            </div>
        </div>
    </div>

    <!-- 모달들 -->
    <!-- 추억 작성 모달 -->
    <div id="memoryModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>추억 작성</h3>
                <span class="close" onclick="closeModal('memoryModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>날짜</label>
                    <div class="date-inputs">
                        <input type="number" id="memoryYear" placeholder="년" min="2000" max="2030">
                        <input type="number" id="memoryMonth" placeholder="월" min="1" max="12">
                        <input type="number" id="memoryDay" placeholder="일" min="1" max="31">
                    </div>
                </div>
                <div class="form-group">
                    <label>저장소 선택</label>
                    <select id="memoryRepo">
                        <!-- DS-1 ~ DS-20 옵션들이 동적으로 추가됩니다 -->
                    </select>
                    <div id="repoCapacity" class="repo-capacity"></div>
                </div>
                <div class="form-group">
                    <label>작성자</label>
                    <input type="text" id="memoryAuthor" placeholder="작성자 이름">
                </div>
                <div class="form-group">
                    <label>제목</label>
                    <input type="text" id="memoryTitle" placeholder="제목">
                </div>
                <div class="form-group">
                    <label>사진 (최대 25MB까지 업로드 가능)</label>
                    <input type="file" id="memoryImages" multiple accept="image/*">
                    <div id="imagePreview" class="image-preview"></div>
                </div>
                <button onclick="saveMemory()" class="save-btn">저장</button>
            </div>
        </div>
    </div>

    <!-- 학생 작성 모달 -->
    <div id="studentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>학생/선생님 추가</h3>
                <span class="close" onclick="closeModal('studentModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>이름</label>
                    <input type="text" id="studentName" placeholder="이름 입력">
                </div>
                <div class="form-group">
                    <label>구분</label>
                    <select id="studentType">
                        <option value="student">학생</option>
                        <option value="teacher">선생님</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>사진</label>
                    <input type="file" id="studentImage" accept="image/*">
                    <div id="studentImagePreview" class="image-preview"></div>
                </div>
                <button onclick="saveStudent()" class="save-btn">저장</button>
            </div>
        </div>
    </div>

    <!-- 개발자 작성 모달 -->
    <div id="developerModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>개발자 추가</h3>
                <span class="close" onclick="closeModal('developerModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>이름</label>
                    <input type="text" id="developerName" placeholder="개발자 이름">
                </div>
                <div class="form-group">
                    <label>사진</label>
                    <input type="file" id="developerImage" accept="image/*">
                    <div id="developerImagePreview" class="image-preview"></div>
                </div>
                <button onclick="saveDeveloper()" class="save-btn">저장</button>
            </div>
        </div>
    </div>

    <!-- 추억 상세보기 모달 -->
    <div id="memoryDetailModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 id="detailTitle"></h3>
                <span class="close" onclick="closeModal('memoryDetailModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="detail-info">
                    <p><strong>작성자:</strong> <span id="detailAuthor"></span></p>
                    <p><strong>날짜:</strong> <span id="detailDate"></span></p>
                </div>
                <div id="detailImages" class="detail-images"></div>
                <div class="detail-actions">
                    <button onclick="editMemory()" class="edit-btn">수정</button>
                    <button onclick="deleteMemory()" class="delete-btn">삭제</button>
                </div>
            </div>
        </div>
    </div>

    <script src="github-api.js"></script>
    <script src="app.js"></script>
</body>
</html>

